---
layout: post
title: "正则表达式"
date: 2019-06-11 00:15:07 +0800
categories: Learn
tags: RegularExpressions
author: ougato
mathjax: true
---

* content
{:toc}




# 正则表达式

## 1.元字符 `<Metacharacters>`

`[]` : **字符组**
> * 包含在字符组内的任何字符都去匹配
```javascript
    var str = "abc adc aec";
    a[bde]c
```

---

`-` : **连字符号**
> * 在`字符组`内，"-" 的下标不是的第一位，才表示一个连接范围符号，让你偷懒的少写很多字符，还有这个符号是以`ASCII`码来连接，不能逆向[z-a]，这时候不是匹配失败了，会报错的，我刚尝试。
```javascript
    // 等价于[abcdefghijklmnopqrstuvwxyz]，26个字符。
    [a-z]
```
> * 在`字符组`内，如果 "-" 的下标是第一位，"-" 只表示一个普通 "-" 字符，不是连字功能。
```javascript
    // 字符组内第一位是 "-" 的时候，只匹配[-axyz]，5个字符，在第四位的 "-"，[x-z]，等价于[xyz]，所以是5个字符。
    [-ax-z]
```
> * 在`字符组`外，"-" 也只表示一个普通 "-" 字符，不是连字功能。
```javascript
    // 只匹配"a-z"，3个字符。
    a-z
```

---

`^` : **脱字符号**
> * 在`字符组`内，"^" 下标一定要在第一位，是取反的含义。
```javascript
    var str = "abc";
    // 下面的表达式会匹配失败，找不到abc，因为 "^" 把 "b" 字符排除开外了。
    a[^b]c
```
> * 在`字符组`内，"^" 下标如果不是第一位，那它就只是普通 "^" 字符。
```javascript
    // "^" 下标是第二位，会被当成一个 "^" 字符来处理，等价于ab|^c，会匹配abc成功。
    var str = "abc";
    a[b^]c
```
> * 在`字符组`外，"^" 后跟上`一串字符`，表示匹配的时候，每行开始的字符串一定是 "^" 后跟的`那串字符`。
```javascript
    // 在字符组内，"^" 下标是第二位，会被当成一个 "^" 字符来处理，等价于ab|^c，会匹配abc成功。
    var str = "abc";
    // 匹配成功。
    ^abc
    // 匹配失败。
    a^bc
```

---

`$` : **美元符号**
> 
> * 在`字符组`内，这个 "$" 符号，就只是一个普通的符号。
```javascript
    var str = "a$c";
    a[b$]c
```

> * 在`字符组`外，通常用于去匹配一行的结尾，"$" 之前所跟上的那个字符串。
```javascript
    // 精确定位一行必须以abc结尾的字符串，多行记得开启 多行模式 哦。
    var str = "123abc";
    abc$
```

---

`.` : **点号**
> * 在`字符组`内，这个 "." 符号，就只是一个普通的符号。
```javascript
    var str = "abc";
    a[.b]c
```

> * 在`字符组`外，除了换行符无法匹配出来之外，其他任何一个字符都在它的范围之中。
```javascript
    var str = "abc";
    // 三个 "." 就可以匹配到abc，一个 "." 代表一个字符。
    ...
```

---

`|` : **竖线符号**
> * 在`字符组`外，表示`或`运算符，理解为两个表达式之间取其中一个。
```javascript
    var str = "abc";
    123|abc
```
> * 想单纯只当做一个 "|" 字符来使用的话，条件是`字符组`内，或者要在前面添加一个`转义符号`，下一个就是`转义符号`。
```javascript
    var str = "abc|def";
    abc\|def
```

---

`\` : **转义符号**
> * 在任何场合，和其他元字符搭配使用，就是`转义`的意思，表示转义出来的那个字符，就是一个字符，失去了当前的作用。
```javascript
    var str = "abc.lib";
    abc\.lib
```
> * 只想表示一个 "\" 符号的话，可以转义他自己。
```javascript
    var str = "abc\\def";
    abc\\def
```

---

`?` : **问号**
> * 匹配0次或者1次，只作用于问号前一个相邻的字符，前一个字符`不存在`或者`只存在一次`都算匹配成功。
```javascript
    var str = "abc";
    ab?d?c
```

---

`+` : **加号**
> * 匹配1或者N次
```javascript
    var str = "abbbd";
    // 在 "a" 后面一定要存在 "b" 至少有一个 "b" 字符，或者很多 "b" 字符，它是成功的。那么在 "b" 后面也必须要有一次 "c" 字符，看来 str 这个字符串里面 "b" 后面并没有 "c" 字符，一次都没有存在，那么这个表达式是匹配失败的。
    ab+c+d
```

---

`*` : **星号**
> * 匹配0或者N次
```javascript
    var str = "abbbd";
    // 延用加号的注释，在 "a" 后面一定要存在 "b" 至少有一个 "b" 字符，或者很多 "b" 字符，它是成功的。在 "c" 后面使用了一个 "*"，那么在 "b" 后面可以不存在 "c" 字符，也可以有很多个 "c" 的字符，说明这个表达式是成功的。
    ab+c*d
```

`()` : **圆括号**
> * 打包一个表达式，让子表达式可以获取供以后使用。
```javascript
    var str = "abcdcdef";
    // 两次匹配 "cd" 字符串的时候，可以打包用 "+" 号来偷懒的完成匹配。
    ab(cd)+ef
```

---

`{}` : **区间量词**
> * {N} 准确匹配N次
```javascript
    var str = "aaaaaa";
    // 匹配2次，返回是["aa", "aa", "aa"]，两次两次匹配。
    a{2}
    // 匹配6次，返回就是["aaaaaa"]，一次匹配完成。
    a{6}
```
> * {N,} 至少匹配N次以上
```javascript
    var str = "aaaaaa";
    // 匹配1次以上，返回是["aaaaaa", ""]，会有一次空字符串返回。
    a{0,}
    // 匹配7次以上，匹配就回失败，因为没有7个 "a"。
    a{7,}
```
> * {N,M} 至少匹配N次到M次区间
```javascript
    var str = "aaaaaa";
    // 匹配3次到6次之间，以最大的M值先匹配，没有那么多次，再去匹配最小的N值。
    a{3,6}
```

---

`\<` 或 `\b` : **单词左分界符**
> * 精确匹配到在 "\<" 或 "\b" 之内的单词，理解为一个表达式的左边存在`[0-9a-zA-Z_]`的字符，就匹配失败，"\b" 在`字符组`内，表示匹配一个`退格符`。
```javascript
    // 由于 正则表达式 流派问题，才会出现两种单词分界符。
    var str = "hello bhello";
    // 只会匹配到第一个hello，第二个无法匹配到，因为他只认左边是否还有字母存在
    \<hello
    \bhello
```

---

`\>` 或 `\b` : **单词右分界符**
> * 精确匹配到在 "\>" 或 "\b" 之内的单词，同上是右边，一个表达式的右边存在`[0-9a-zA-Z_]`的字符，就匹配失败，"\b" 在`字符组`内，表示匹配一个`退格符`。
```javascript
    // 由于 正则表达式 流派问题，才会出现两种单词分界符。
    var str = "hello bhello";
    // 会匹配到两个单词，["hello", "bhello"]，因为hello的 "o" 在右边并没有任何字母。
    b?hello\>
    b?hello\b
```

---

`\< \>` 或 `\b \b` : **单词左右分界符**
> * 精确匹配一个单词，左右两边都不能存在`[0-9a-zA-Z_]`的字符，"\b" 在`字符组`内，表示匹配一个`退格符`。
```javascript
    // 由于 正则表达式 流派问题，egrep不同，才会出现两种单词分界符。
    var str = "ahello hello ahellob hellob";
    // 精确的匹配到了已存在的一个["hello"]，如果没有这个 "hello"，一定会匹配失败的。
    \<hello\>
    \bhello\b
```

---

`\1` 或 `\2` 或 `\N` : **反向引用**
> * 和圆括号搭配使用，"\1" 会去复用表达式中第一个圆括号里面匹配的字符串，"\2" 会去复用表达式中第二个圆括号里面匹配的字符串，以此类推 "\N" 个圆括号里面匹配的字符串。
```javascript
    var str = "ahello hello ahellob hellob";
    // 成功匹配到str字符串，"\1" 代表 "hello"。
    a(hello) \1 a\1b \1b
```